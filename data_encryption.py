# data_encryption.py

import cryptography
from cryptography.fernet import Fernet

class DataEncryption:
    def __init__(self, encryption_key):
        self.encryption_key = encryption_key

    def encrypt_data(self, data):
        try:
            cipher_suite = Fernet(self.encryption_key)
            encrypted_data = cipher_suite.encrypt(data.encode())
            return encrypted_data
        except cryptography.fernet.InvalidToken as e:
            raise Exception(f"Encryption error: {str(e)}")

    def decrypt_data(self, encrypted_data):
        try:
            cipher_suite = Fernet(self.encryption_key)
            decrypted_data = cipher_suite.decrypt(encrypted_data).decode()
            return decrypted_data
        except cryptography.fernet.InvalidToken as e:
            raise Exception(f"Decryption error: {str(e)}")
